
/* Ant Design Global Rounded Adaptation */
.ant-btn { border-radius: var(--vf-radius-control) !important; }
.ant-tag { border-radius: var(--vf-radius-tag) !important; }
.ant-select-selector { border-radius: var(--vf-radius-control) !important; }
.ant-input { border-radius: var(--vf-radius-control) !important; }
.ant-modal-content { 
  border-radius: var(--vf-radius-card) !important; 
  box-shadow: var(--vf-shadow-overlay) !important;
  border: 1px solid rgba(var(--vf-border), 0.5) !important;
}

/* === Global Link and Link Button Fix (Spec 5.4) === */
/* 彻底移除默认蓝色，确保基础状态和交互状态均使用品牌色变量 */
a, 
.ant-btn-link:not(.ant-btn-dangerous) {
  color: rgba(var(--vf-brand), 1) !important;
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover, 
.ant-btn-link:not(.ant-btn-dangerous):hover {
  color: rgba(var(--vf-brand-hover), 1) !important;
}

a:active, 
.ant-btn-link:not(.ant-btn-dangerous):active {
  color: rgba(var(--vf-brand-active), 1) !important;
}

/* === Global Button Hover Fix (Spec 6.1) === */
.ant-btn-default:not(.ant-btn-dangerous):hover {
  color: rgba(var(--vf-brand), 1) !important;
  border-color: rgba(var(--vf-brand), 1) !important;
}

/* 文本按钮 Hover 逻辑 */
.ant-btn-text:not(.ant-btn-dangerous):hover {
  color: rgba(var(--vf-brand), 1) !important;
  background-color: rgba(var(--vf-hover), var(--vf-hover-alpha)) !important;
}

/* 链接按钮在 Hover 时通常不需要背景色，仅改变文字颜色 */
.ant-btn-link:not(.ant-btn-dangerous):hover {
  background-color: transparent !important;
}

/* 抽屉风格 (Spec 7.2) */
.vf-drawer-standard .ant-drawer-content-holder {
  box-shadow: var(--vf-shadow-overlay) !important;
  border-inline-start: 1px solid rgba(var(--vf-border), 0.5) !important;
}

/* Sidebar Menu 核心重塑 */
.vf-sidebar-menu.ant-menu-inline, 
.vf-sidebar-menu.ant-menu-vertical {
  border-inline-end: none !important;
}

.vf-sidebar-menu .ant-menu-title-content {
  font-weight: 500 !important;
  font-size: 14px !important;
  letter-spacing: -0.01em;
}

.vf-sidebar-menu .ant-menu-item-selected {
  background-color: rgba(var(--vf-brand), 0.06) !important;
  color: rgba(var(--vf-brand), 1) !important;
}

.vf-sidebar-menu .ant-menu-item-selected .ant-menu-item-icon {
  color: rgba(var(--vf-brand), 1) !important;
}

.vf-sidebar-menu .ant-menu-item:not(.ant-menu-item-selected):hover,
.vf-sidebar-menu .ant-menu-submenu-title:hover {
  background-color: rgba(var(--vf-hover), var(--vf-hover-alpha)) !important;
}

/* 侧边栏弹出菜单 */
.ant-menu-submenu-popup {
  z-index: 1050 !important;
}

.ant-menu-submenu-popup .ant-menu {
  background-color: #FFFFFF !important;
  border-radius: var(--vf-radius-card) !important;
  border: 1px solid rgba(var(--vf-border), 1) !important;
  box-shadow: var(--vf-shadow-overlay) !important;
  padding: 4px !important;
  overflow: hidden;
}

[data-theme="dark"] .ant-menu-submenu-popup .ant-menu {
  background-color: #1E2330 !important;
  border-color: rgba(255, 255, 255, 0.12) !important;
}

.ant-menu-submenu-popup .ant-menu-item {
  margin-block: 2px !important;
  margin-inline: 4px !important;
  width: calc(100% - 8px) !important;
  border-radius: var(--vf-radius-control) !important;
}

.ant-btn-primary:not(.ant-btn-dangerous) {
  background-color: rgba(var(--vf-brand), 1) !important;
  border-color: rgba(var(--vf-brand), 1) !important;
  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.05);
  text-shadow: none !important;
}

.ant-dropdown-menu-submenu-title {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}
